<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `resolve` fn in crate `cargo`."><meta name="keywords" content="rust, rustlang, rust-lang, resolve"><title>cargo::core::resolver::resolve - Rust</title><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../../ayu.css" disabled ><script id="default-settings"></script><script src="../../../storage.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../../down-arrow.svg");}</style></head><body class="rustdoc fn"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../../cargo/index.html'><div class='logo-container rust-logo'><img src='../../../rust-logo.png' alt='logo'></div></a><div class="sidebar-elems"><p class="location"><a href="../../index.html">cargo</a>::<wbr><a href="../index.html">core</a>::<wbr><a href="index.html">resolver</a></p><script>window.sidebarCurrent = {name: "resolve", ty: "fn", relpath: ""};</script><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><span class="help-button">?</span>
                <a id="settings-menu" href="../../../settings.html"><img src="../../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../../src/cargo/core/resolver/mod.rs.html#122-162" title="goto source code">[src]</a></span><span class="in-band">Function <a href="../../index.html">cargo</a>::<wbr><a href="../index.html">core</a>::<wbr><a href="index.html">resolver</a>::<wbr><a class="fn" href="">resolve</a></span></h1><pre class="rust fn">pub fn resolve(<br>&nbsp;&nbsp;&nbsp;&nbsp;summaries: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="../../../cargo/core/summary/struct.Summary.html" title="struct cargo::core::summary::Summary">Summary</a>, <a class="struct" href="../../../cargo/core/resolver/struct.ResolveOpts.html" title="struct cargo::core::resolver::ResolveOpts">ResolveOpts</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;replacements: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="../../../cargo/core/struct.PackageIdSpec.html" title="struct cargo::core::PackageIdSpec">PackageIdSpec</a>, <a class="struct" href="../../../cargo/core/dependency/struct.Dependency.html" title="struct cargo::core::dependency::Dependency">Dependency</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;registry: &amp;mut dyn <a class="trait" href="../../../cargo/core/registry/trait.Registry.html" title="trait cargo::core::registry::Registry">Registry</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;try_to_use: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="struct" href="../../../cargo/core/package_id/struct.PackageId.html" title="struct cargo::core::package_id::PackageId">PackageId</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;config: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="../../../cargo/util/config/struct.Config.html" title="struct cargo::util::config::Config">Config</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;check_public_visible_dependencies: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a><br>) -&gt; <a class="type" href="../../../cargo/util/errors/type.CargoResult.html" title="type cargo::util::errors::CargoResult">CargoResult</a>&lt;<a class="struct" href="../../../cargo/core/struct.Resolve.html" title="struct cargo::core::Resolve">Resolve</a>&gt;</pre><div class="docblock"><p>Builds the list of all packages required to build the first argument.</p>
<ul>
<li>
<p><code>summaries</code> - the list of package summaries along with how to resolve
their features. This is a list of all top-level packages that are intended
to be part of the lock file (resolve output). These typically are a list
of all workspace members.</p>
</li>
<li>
<p><code>replacements</code> - this is a list of <code>[replace]</code> directives found in the
root of the workspace. The list here is a <code>PackageIdSpec</code> of what to
replace and a <code>Dependency</code> to replace that with. In general it's not
recommended to use <code>[replace]</code> any more and use <code>[patch]</code> instead, which
is supported elsewhere.</p>
</li>
<li>
<p><code>registry</code> - this is the source from which all package summaries are
loaded. It's expected that this is extensively configured ahead of time
and is idempotent with our requests to it (aka returns the same results
for the same query every time). Typically this is an instance of a
<code>PackageRegistry</code>.</p>
</li>
<li>
<p><code>try_to_use</code> - this is a list of package IDs which were previously found
in the lock file. We heuristically prefer the ids listed in <code>try_to_use</code>
when sorting candidates to activate, but otherwise this isn't used
anywhere else.</p>
</li>
<li>
<p><code>config</code> - a location to print warnings and such, or <code>None</code> if no warnings
should be printed</p>
</li>
<li>
<p><code>print_warnings</code> - whether or not to print backwards-compatibility
warnings and such</p>
</li>
<li>
<p><code>check_public_visible_dependencies</code> - a flag for whether to enforce the restrictions
introduced in the &quot;public &amp; private dependencies&quot; RFC (1977). The current implementation
makes sure that there is only one version of each name visible to each package.</p>
<p>But there are 2 stable ways to directly depend on different versions of the same name.</p>
<ol>
<li>Use the renamed dependencies functionality</li>
<li>Use 'cfg({})' dependencies functionality</li>
</ol>
<p>When we have a decision for how to implement is without breaking existing functionality
this flag can be removed.</p>
</li>
</ul>
</div></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../../";window.currentCrate = "cargo";</script><script src="../../../main.js"></script><script defer src="../../../search-index.js"></script></body></html>